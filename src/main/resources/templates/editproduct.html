<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Geek-Shop Think NERD</title>
    <link th:replace="header :: main-css"/>
    <link th:replace="header :: scheme-css"/>
    <link th:replace="header :: print-css"/>
</head>

<body>

<div id="main">

    <!-- Header -->
    <div th:replace="header :: #header"></div>

    <!-- Navigation -->
    <div th:replace="navigation :: nav ('range')"></div>

    <!-- 2 columns (content + sidebar) -->
    <div id="cols" class="box">

        <!-- Content -->
        <div id="content">

            <h3 id="content-title"
                th:text="(${product} ? 'Artikel ' + ${product.name} + ' bearbeiten' : 'Artikel hinzufügen')">Artikel</h3>

            <div id="content-in">

                <form th:action="(${product} ? '/range/editproduct' : '/range/addproduct')" method="post">
                    <table class="table-style01 t-left noborder">
                        <tr>
                            <td>
                                <label for="productName" class="highlight">Artikelbezeichnung:</label>
                            </td>
                            <td th:with="productName = (${product} ? ${product.name})">
                                <input name="productName" id="productName" type="text" size="30" maxlength="30"
                                       value="Artikel" th:value="${productName}"
                                       required="required"/>
                            </td>

                            <td class="indent" th:rowspan="${isNew} ? '5' : '4'">
                                <label for="subCategory" class="highlight">Kategorie:</label>
                            </td>
                            <td th:with="subCategory = (${product} ? ${product.subCategory})" th:rowspan="${isNew} ? '5' : '4'">
                                <select name="subCategory" id="subCategory" size="10" required="required">
                                    <optgroup th:each="super : ${superCategories}" th:label="${super.name}">
                                        <option th:each="sub : ${super.subCategories}"
                                                th:value="${sub.id}" th:text="${sub.name}"
                                                th:selected="${sub == subCategory}"></option>
                                    </optgroup>
                                </select>
                            </td>

                            <!--<td class="indent">-->
                            <!--<label for="subCategory" class="highlight">Unterkategorie:</label>-->
                            <!--</td>-->
                            <!--<td th:with="subCategory = (${product} ? ${product.subCategory.name})">-->
                            <!--<input name="subCategory" id="subCategory" type="text" size="30" maxlength="40"-->
                            <!--value="Unterkategorie" th:value="${subCategory}"-->
                            <!--required="required"/>-->
                            <!--</td>-->
                        </tr>

                        <tr>
                            <td>
                                <label for="productNumber" class="highlight">Artikelnummer:</label>
                            </td>
                            <td th:with="productNumber = (${product} ? ${product.productNumber})">
                                <input th:if="${isNew}" name="productNumber" id="productNumber" type="number" size="1"
                                       maxlength="40"
                                       value="1" min="0"
                                       required="required" pattern="\d+"/>
                                <p th:unless="${isNew}" th:text="${T(geekshop.model.GSOrder).longToString(productNumber)}">0</p>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="price" class="highlight">Preis in Euro:</label>
                            </td>
                            <td th:with="price = (${product} ? ${product.moneyToString(product.getPrice())})">
                                <input name="price" id="price" type="text" size="30" maxlength="30"
                                       value="10" th:value="${price}"
                                       th:disabled="${user}" pattern="^[0-9]\d*[.,]?\d*\s?€"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="minQuantity" class="highlight">Minimale Stückzahl im Lager:</label>
                            </td>
                            <td th:with="minQuantity = (${product} ? ${inventory.findByProduct(product).get().minimalQuantity.amount} : '1')">
                                <input name="minQuantity" id="minQuantity" type="number" size="1" maxlength="40"
                                       value="1" min="1" th:value="${minQuantity}"
                                       required="required" pattern="\d+"/>
                            </td>
                        </tr>

                        <tr >
                            <td>
                                <label for="quantity" class="highlight">Stückzahl:</label>
                            </td>
                            <td th:with="quantity = (${product} ? ${inventory.findByProduct(product).get().getQuantity().getAmount()} : '1')">
                                <input name="quantity" id="quantity" type="number" size="1" maxlength="40"
                                        value="1" min="0" th:value="${quantity}"
                                       required="required" pattern="\d+"/>
                            </td>
                        </tr>
                    </table>
                    <input th:value="${product} ? ${product.identifier}" type="hidden" name="productId"/>
                    <button type="submit" name="save" id="save" class="myButton">Speichern
                    </button>
                    <a th:href="@{/range}" class="myButton f-right">Zurück</a>
                </form>

            </div>
            <!-- /content-in -->

            <hr class="noscreen"/>


        </div>
        <!-- /content -->

        <hr class="noscreen"/>


    </div>
    <!-- /cols -->

    <div id="cols-bottom"></div>

    <hr class="noscreen"/>

    <!-- Footer -->
    <!--<div id="footer">


    </div>-->
    <!-- /footer -->

</div>
<!-- /main -->


</body>
</html>
